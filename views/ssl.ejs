<!DOCTYPE html>
<html>
<head>
    <title>Configure SSL</title>
    <!-- Bootstrap for consistent styling -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container my-4">
    <h1 class="mb-4">Configure SSL for <%= domain %></h1>
    <!-- Instruction block explaining how to enter certificate details -->
    <div class="alert alert-info instructions">
        <p class="mb-1"><strong>Install a certificate for HTTPS:</strong></p>
        <ol class="mb-2">
            <li>Paste the entire certificate including the <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code> lines.</li>
            <li>Paste the matching private key starting with <code>-----BEGIN PRIVATE KEY-----</code>.</li>
            <li>Example: to obtain a free Let's Encrypt certificate you might run <code>certbot certonly --manual -d <%= domain %></code> and copy the generated files here.</li>
        </ol>
        <p class="mb-0">After saving, BlockHead will update the Nginx config and attempt to reload the site.</p>
    </div>
    <form action="/ssl/<%= domain %>" method="post">
        <div class="mb-3">
            <label class="form-label">Certificate
                <textarea class="form-control" name="cert" rows="6" placeholder="-----BEGIN CERTIFICATE-----\n..."></textarea>
            </label>
        </div>
        <div class="mb-3">
            <label class="form-label">Private Key
                <textarea class="form-control" name="key" rows="6" placeholder="-----BEGIN PRIVATE KEY-----\n..."></textarea>
            </label>
        </div>
        <button type="submit" class="btn btn-primary">Install</button>
        <a href="/" class="btn btn-link">Back to List</a>
    </form>
    </div>
<%- include("partials/log-panel") %>
</body>
</html>
